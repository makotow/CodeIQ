<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>navigation_js.html - RDoc Documentation</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body class="file">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../Stone_html.html">Stone.html</a>
  
    <li class="file"><a href="../../created_rid.html">created.rid</a>
  
    <li class="file"><a href="../../doc/Stone_html_html.html">Stone_html.html</a>
  
    <li class="file"><a href="../../doc/created_rid.html">created.rid</a>
  
    <li class="file"><a href="../../doc/created_rid_html.html">created_rid.html</a>
  
    <li class="file"><a href="../../doc/doc/created_rid_html.html">created_rid.html</a>
  
    <li class="file"><a href="../../doc/index_html.html">index.html</a>
  
    <li class="file"><a href="../../doc/index_html_html.html">index_html.html</a>
  
    <li class="file"><a href="../../doc/js/darkfish_js.html">darkfish.js</a>
  
    <li class="file"><a href="../../doc/js/darkfish_js_html.html">darkfish_js.html</a>
  
    <li class="file"><a href="../../doc/js/jquery_js.html">jquery.js</a>
  
    <li class="file"><a href="../../doc/js/jquery_js_html.html">jquery_js.html</a>
  
    <li class="file"><a href="../../doc/js/navigation_js.html">navigation.js</a>
  
    <li class="file"><a href="../../doc/js/navigation_js_html.html">navigation_js.html</a>
  
    <li class="file"><a href="../../doc/js/search_js.html">search.js</a>
  
    <li class="file"><a href="../../doc/js/search_index_js.html">search_index.js</a>
  
    <li class="file"><a href="../../doc/js/search_index_js_html.html">search_index_js.html</a>
  
    <li class="file"><a href="../../doc/js/search_js_html.html">search_js.html</a>
  
    <li class="file"><a href="../../doc/js/searcher_js.html">searcher.js</a>
  
    <li class="file"><a href="../../doc/js/searcher_js_html.html">searcher_js.html</a>
  
    <li class="file"><a href="../../doc/rdoc_css.html">rdoc.css</a>
  
    <li class="file"><a href="../../doc/rdoc_css_html.html">rdoc_css.html</a>
  
    <li class="file"><a href="../../doc/table_of_contents_html.html">table_of_contents.html</a>
  
    <li class="file"><a href="../../doc/table_of_contents_html_html.html">table_of_contents_html.html</a>
  
    <li class="file"><a href="../../index_html.html">index.html</a>
  
    <li class="file"><a href="../../js/darkfish_js.html">darkfish.js</a>
  
    <li class="file"><a href="../../js/jquery_js.html">jquery.js</a>
  
    <li class="file"><a href="../../js/navigation_js.html">navigation.js</a>
  
    <li class="file"><a href="../../js/search_js.html">search.js</a>
  
    <li class="file"><a href="../../js/search_index_js.html">search_index.js</a>
  
    <li class="file"><a href="../../js/searcher_js.html">searcher.js</a>
  
    <li class="file"><a href="../../rdoc_css.html">rdoc.css</a>
  
    <li class="file"><a href="../../table_of_contents_html.html">table_of_contents.html</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">
  
<p>&lt;!DOCTYPE html&gt;</p>

<p>&lt;html&gt; &lt;head&gt; &lt;meta content=“text/html; charset=UTF-8”
http-equiv=“Content-Type”&gt;</p>

<p>&lt;title&gt;navigation.js - RDoc Documentation&lt;/title&gt;</p>

<p>&lt;link type=“text/css” media=“screen” href=“../rdoc.css”
rel=“stylesheet”&gt;</p>

<p>&lt;script type=“text/javascript”&gt;</p>

<pre>var rdoc_rel_prefix = &quot;../&quot;;</pre>

<p>&lt;/script&gt;</p>

<p>&lt;script type=“text/javascript” charset=“utf-8”
src=“../js/jquery.js”&gt;&lt;/script&gt; &lt;script type=“text/javascript”
charset=“utf-8” src=“../js/navigation.js”&gt;&lt;/script&gt; &lt;script
type=“text/javascript” charset=“utf-8”
src=“../js/search_index.js”&gt;&lt;/script&gt; &lt;script
type=“text/javascript” charset=“utf-8”
src=“../js/search.js”&gt;&lt;/script&gt; &lt;script type=“text/javascript”
charset=“utf-8” src=“../js/searcher.js”&gt;&lt;/script&gt; &lt;script
type=“text/javascript” charset=“utf-8”
src=“../js/darkfish.js”&gt;&lt;/script&gt;</p>

<p>&lt;body class=“file”&gt; &lt;nav id=“metadata”&gt;</p>

<pre>&lt;nav id=&quot;home-section&quot; class=&quot;section&quot;&gt;
&lt;h3 class=&quot;section-header&quot;&gt;
  &lt;a href=&quot;../index.html&quot;&gt;Home&lt;/a&gt;
  &lt;a href=&quot;../table_of_contents.html#classes&quot;&gt;Classes&lt;/a&gt;
  &lt;a href=&quot;../table_of_contents.html#methods&quot;&gt;Methods&lt;/a&gt;
&lt;/h3&gt;</pre>

<p>&lt;/nav&gt;</p>

<pre>&lt;nav id=&quot;search-section&quot; class=&quot;section project-section&quot; class=&quot;initially-hidden&quot;&gt;
&lt;form action=&quot;#&quot; method=&quot;get&quot; accept-charset=&quot;utf-8&quot;&gt;
  &lt;h3 class=&quot;section-header&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;search&quot; placeholder=&quot;Search&quot; id=&quot;search-field&quot;
           title=&quot;Type to search, Up and Down to navigate, Enter to load&quot;&gt;
  &lt;/h3&gt;
&lt;/form&gt;

&lt;ul id=&quot;search-results&quot; class=&quot;initially-hidden&quot;&gt;&lt;/ul&gt;</pre>

<p>&lt;/nav&gt;</p>

<pre>&lt;div id=&quot;project-metadata&quot;&gt;
  &lt;nav id=&quot;fileindex-section&quot; class=&quot;section project-section&quot;&gt;
&lt;h3 class=&quot;section-header&quot;&gt;Pages&lt;/h3&gt;

&lt;ul&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../Stone_html.html&quot;&gt;Stone.html&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../created_rid.html&quot;&gt;created.rid&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../doc/created_rid.html&quot;&gt;created.rid&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../index_html.html&quot;&gt;index.html&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../js/darkfish_js.html&quot;&gt;darkfish.js&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../js/jquery_js.html&quot;&gt;jquery.js&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../js/navigation_js.html&quot;&gt;navigation.js&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../js/search_js.html&quot;&gt;search.js&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../js/search_index_js.html&quot;&gt;search_index.js&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../js/searcher_js.html&quot;&gt;searcher.js&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../rdoc_css.html&quot;&gt;rdoc.css&lt;/a&gt;

  &lt;li class=&quot;file&quot;&gt;&lt;a href=&quot;../table_of_contents_html.html&quot;&gt;table_of_contents.html&lt;/a&gt;

&lt;/ul&gt;</pre>

<p>&lt;/nav&gt;</p>

<pre>  &lt;nav id=&quot;classindex-section&quot; class=&quot;section project-section&quot;&gt;
&lt;h3 class=&quot;section-header&quot;&gt;Class and Module Index&lt;/h3&gt;

&lt;ul class=&quot;link-list&quot;&gt;

&lt;/ul&gt;</pre>

<p>&lt;/nav&gt;</p>

<pre>&lt;/div&gt;</pre>

<p>&lt;/nav&gt;</p>

<p>&lt;div id=“documentation” class=“description”&gt;</p>

<p>&lt;pre&gt;Navigation allows movement using the arrow keys through the
search results.</p>

<p>When using this library you will need to set scrollIntoView to the
appropriate function for your layout.  Use scrollInWindow if the container
is not scrollable and scrollInElement if the container is a separate
scrolling region.&lt;/pre&gt;</p>

<p>&lt;p&gt;Navigation = new function() {&lt;/p&gt;</p>

<p>&lt;pre&gt;this.initNavigation = function() {</p>

<pre>var _this = this;

$(document).keydown(function(e) {
  _this.onkeydown(e);
}).keyup(function(e) {
  _this.onkeyup(e);
});

this.navigationActive = true;</pre>

<p>}</p>

<p>this.setNavigationActive = function(state) {</p>

<pre>this.navigationActive = state;
this.clearMoveTimeout();</pre>

<p>}</p>

<p>this.onkeyup = function(e) {</p>

<pre>if (!this.navigationActive) return;

switch(e.keyCode) {
  case 37: //Event.KEY_LEFT:
  case 38: //Event.KEY_UP:
  case 39: //Event.KEY_RIGHT:
  case 40: //Event.KEY_DOWN:
    this.clearMoveTimeout();
    break;
}</pre>

<p>}</p>

<p>this.onkeydown = function(e) {</p>

<pre>if (!this.navigationActive) return;
switch(e.keyCode) {
  case 37: //Event.KEY_LEFT:
    if (this.moveLeft()) e.preventDefault();
    break;
  case 38: //Event.KEY_UP:
    if (e.keyCode == 38 || e.ctrlKey) {
      if (this.moveUp()) e.preventDefault();
      this.startMoveTimeout(false);
    }
    break;
  case 39: //Event.KEY_RIGHT:
    if (this.moveRight()) e.preventDefault();
    break;
  case 40: //Event.KEY_DOWN:
    if (e.keyCode == 40 || e.ctrlKey) {
      if (this.moveDown()) e.preventDefault();
      this.startMoveTimeout(true);
    }
    break;
  case 13: //Event.KEY_RETURN:
    if (this.$current)
      e.preventDefault();
      this.select(this.$current);
    break;
}
if (e.ctrlKey &amp;amp;&amp;amp; e.shiftKey) this.select(this.$current);</pre>

<p>}</p>

<p>this.clearMoveTimeout = function() {</p>

<pre>clearTimeout(this.moveTimeout);
this.moveTimeout = null;</pre>

<p>}</p>

<p>this.startMoveTimeout = function(isDown) {</p>

<pre>if (!$.browser.mozilla &amp;amp;&amp;amp; !$.browser.opera) return;
if (this.moveTimeout) this.clearMoveTimeout();
var _this = this;

var go = function() {
  if (!_this.moveTimeout) return;
  _this[isDown ? &amp;#39;moveDown&amp;#39; : &amp;#39;moveUp&amp;#39;]();
  _this.moveTimout = setTimeout(go, 100);
}
this.moveTimeout = setTimeout(go, 200);</pre>

<p>}</p>

<p>this.moveRight = function() { }</p>

<p>this.moveLeft = function() { }</p>

<p>this.move = function(isDown) { }</p>

<p>this.moveUp = function() {</p>

<pre>return this.move(false);</pre>

<p>}</p>

<p>this.moveDown = function() {</p>

<pre>return this.move(true);</pre>

<p>}</p>

<p>/*</p>

<pre> Scrolls to the given element in the scrollable element view.
/</pre>

<p>this.scrollInElement = function(element, view) {</p>

<pre>var offset, viewHeight, viewScroll, height;
offset = element.offsetTop;
height = element.offsetHeight;
viewHeight = view.offsetHeight;
viewScroll = view.scrollTop;

if (offset - viewScroll + height &amp;gt; viewHeight) {
  view.scrollTop = offset - viewHeight + height;
}
if (offset &amp;lt; viewScroll) {
  view.scrollTop = offset;
}</pre>

<p>}</p>

<p>/*</p>

<pre> Scrolls to the given element in the window.  The second argument is
 ignored
/</pre>

<p>this.scrollInWindow = function(element, ignored) {</p>

<pre>var offset, viewHeight, viewScroll, height;
offset = element.offsetTop;
height = element.offsetHeight;
viewHeight = window.innerHeight;
viewScroll = window.scrollY;

if (offset - viewScroll + height &amp;gt; viewHeight) {
  window.scrollTo(window.scrollX, offset - viewHeight + height);
}
if (offset &amp;lt; viewScroll) {
  window.scrollTo(window.scrollX, offset);
}</pre>

<p>}&lt;/pre&gt;</p>

<p>&lt;p&gt;}&lt;/p&gt;</p>

<p>&lt;/div&gt;</p>

<p>&lt;footer id=“validator-badges”&gt;</p>

<pre>&lt;p&gt;&lt;a href=&quot;http://validator.w3.org/check/referer&quot;&gt;[Validate]&lt;/a&gt;
&lt;p&gt;Generated by &lt;a href=&quot;https://github.com/rdoc/rdoc&quot;&gt;RDoc&lt;/a&gt; 4.0.0.
&lt;p&gt;Generated with the &lt;a href=&quot;http://deveiate.org/projects/Darkfish-Rdoc/&quot;&gt;Darkfish Rdoc Generator&lt;/a&gt; 3.</pre>

<p>&lt;/footer&gt;</p>

</div>



<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

